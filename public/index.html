<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Server Administration Dashboard - Real-time system monitoring with Docker container management and system service controls">
    <title>Server Administration</title>
    <link rel="icon" type="image/jpeg" href="/favicon.jpg">
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xterm@5.3.0/lib/xterm.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xterm-addon-fit@0.8.0/lib/xterm-addon-fit.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', 'Monaco', monospace;
            background: #000000;
            min-height: 100vh;
            color: #ffffff;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        .container {
            max-width: 100%;
            margin: 0;
            padding: 1% 3%;
            box-sizing: border-box;
        }

        /* Responsive Container */
        @media (max-width: 1200px) {
            .container {
                padding: 1% 2.5%;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1% 2%;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0.5% 1.5%;
            }
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: #ffffff;
            border-bottom: 2px solid #333333;
            padding-bottom: 20px;
        }

        /* Responsive Header */
        @media (max-width: 768px) {
            .header {
                margin-bottom: 20px;
                padding-bottom: 15px;
            }
        }

        @media (max-width: 480px) {
            .header {
                margin-bottom: 15px;
                padding-bottom: 10px;
            }
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #ffffff;
            font-weight: normal;
        }

        .header p {
            font-size: 1.1rem;
            color: #cccccc;
        }

        /* Responsive Header Text */
        @media (max-width: 1200px) {
            .header h1 {
                font-size: 2.2rem;
            }
            .header p {
                font-size: 1rem;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
                margin-bottom: 8px;
            }
            .header p {
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.5rem;
                margin-bottom: 5px;
            }
            .header p {
                font-size: 0.8rem;
            }
        }

        .dashboard {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 20px;
            width: 100%;
            box-sizing: border-box;
        }

        /* Responsive Layouts */
        @media (max-width: 1200px) {
            .dashboard {
                gap: 18px;
            }
        }

        @media (max-width: 768px) {
            .dashboard {
                gap: 15px;
            }
        }

        @media (max-width: 480px) {
            .dashboard {
                gap: 12px;
            }
        }

        .card {
            background: #111111;
            border: 1px solid #333333;
            padding: 20px;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
            width: 100%;
        }

        /* Responsive Cards */
        @media (max-width: 1200px) {
            .card {
                padding: 18px;
            }
        }

        @media (max-width: 768px) {
            .card {
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            .card {
                padding: 12px;
            }
        }

        .card:hover {
            border-color: #666666;
        }

        .card h2 {
            color: #ffffff;
            margin-bottom: 20px;
            font-size: 1.2rem;
            border-bottom: 1px solid #333333;
            padding-bottom: 10px;
            font-weight: normal;
        }

        /* Responsive Card Headings */
        @media (max-width: 768px) {
            .card h2 {
                font-size: 1.1rem;
                margin-bottom: 15px;
                padding-bottom: 8px;
            }
        }

        @media (max-width: 480px) {
            .card h2 {
                font-size: 1rem;
                margin-bottom: 12px;
                padding-bottom: 6px;
            }
        }

        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 8px;
            background: #222222;
            border: 1px solid #333333;
        }

        /* Responsive Metrics */
        @media (max-width: 768px) {
            .metric {
                padding: 6px;
                margin-bottom: 8px;
            }
        }

        @media (max-width: 480px) {
            .metric {
                padding: 5px;
                margin-bottom: 6px;
                font-size: 0.9rem;
            }
        }

        .metric-label {
            font-weight: normal;
            color: #cccccc;
        }

        .metric-value {
            font-weight: bold;
            color: #ffffff;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: #333333;
            overflow: hidden;
            margin-top: 5px;
            border: 1px solid #444444;
        }

        .progress-fill {
            height: 100%;
            background: #ffffff;
            transition: width 0.3s ease;
        }

        /* Small cards container - display in a row */
        .small-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            .small-cards-container {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .small-cards-container {
                gap: 12px;
            }
        }

        .terminal-container {
            background: #000000;
            border: 1px solid #333333;
            padding: 1%;
            height: 50vh;
            min-height: 300px;
            max-height: 600px;
            overflow: hidden;
        }

        /* Responsive Terminal */
        @media (max-width: 1200px) {
            .terminal-container {
                height: 45vh;
                min-height: 250px;
            }
        }

        @media (max-width: 768px) {
            .terminal-container {
                height: 40vh;
                min-height: 200px;
                padding: 0.8%;
            }
        }

        @media (max-width: 480px) {
            .terminal-container {
                height: 35vh;
                min-height: 150px;
                padding: 0.5%;
            }
        }

        #terminal {
            height: 100%;
        }
        
        /* Terminal Tabs */
        .terminal-tabs {
            display: flex;
            border-bottom: 1px solid #333333;
            background: #111111;
            overflow-x: auto;
            justify-content: space-between;
        }
        
        .terminal-tabs-container {
            display: flex;
            overflow-x: auto;
            flex: 1;
        }
        
        .terminal-add-tab-btn {
            padding: 8px 16px;
            background: #222222;
            border: 1px solid #333333;
            border-bottom: none;
            color: #ffffff;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            min-width: 50px;
            text-align: center;
            transition: all 0.3s ease;
            font-family: 'Courier New', 'Monaco', monospace;
        }
        
        .terminal-add-tab-btn:hover {
            background: #2a2a2a;
            border-color: #555555;
        }
        
        .terminal-fullscreen-btn {
            padding: 8px 16px;
            background: #222222;
            border: 1px solid #333333;
            border-bottom: none;
            color: #ffffff;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            min-width: 50px;
            text-align: center;
            transition: all 0.3s ease;
            font-family: 'Courier New', 'Monaco', monospace;
        }
        
        .terminal-fullscreen-btn:hover {
            background: #2a2a2a;
            border-color: #555555;
        }
        
        /* Fullscreen terminal styles */
        .terminal-fullscreen-mode {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #000000;
            z-index: 10000;
            display: flex;
            flex-direction: column;
        }
        
        .terminal-fullscreen-mode .terminal-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #000000;
        }
        
        .terminal-fullscreen-mode .terminal-content {
            flex: 1;
            height: 100%;
        }
        
        .terminal-fullscreen-mode .terminal-tabs {
            border-bottom: 2px solid #333333;
        }
        
        .terminal-tab {
            padding: 0;
            background: #222222;
            border: 1px solid #333333;
            border-bottom: none;
            color: #cccccc;
            cursor: pointer;
            font-size: 12px;
            white-space: nowrap;
            position: relative;
            margin-right: 4px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 41px;
            box-sizing: border-box;
        }
        
        .terminal-tab:hover {
            background: #2a2a2a;
        }
        
        .terminal-tab.active {
            background: #000000;
            color: #ffffff;
            border-color: #555555;
        }
        
        .terminal-tab .tab-title {
            padding: 8px 12px;
            flex: 1;
            display: flex;
            align-items: center;
            height: 100%;
        }
        
        .terminal-tab-close {
            margin-right: 8px;
            color: #888888;
            font-weight: bold;
            cursor: pointer;
            padding: 8px 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            line-height: 1;
            font-size: 20px;
            width: 24px;
            flex-shrink: 0;
        }
        
        .terminal-tab-close:hover {
            color: #ffffff;
        }
        
        .terminal-content {
            position: relative;
            height: calc(100% - 41px);
        }
        
        .terminal-content .terminal {
            width: 100%;
            height: 100%;
        }

        /* Responsive Terminal Font */
        @media (max-width: 768px) {
            #terminal {
                font-size: 11px;
            }
            
            .terminal-tab {
                height: 36px;
                font-size: 11px;
            }
            
            .terminal-tab .tab-title {
                padding: 6px 10px;
            }
            
            .terminal-add-tab-btn {
                padding: 6px 12px;
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            #terminal {
                font-size: 10px;
            }
            
            .terminal-tab {
                height: 32px;
                font-size: 10px;
            }
            
            .terminal-tab .tab-title {
                padding: 5px 8px;
            }
            
            .terminal-tab-close {
                font-size: 18px;
                width: 20px;
            }
            
            .terminal-add-tab-btn {
                padding: 5px 10px;
                font-size: 12px;
            }
        }


        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            margin-right: 6px;
        }

        .status-online {
            background: #00ff00;
        }

        .status-offline {
            background: #666666;
        }

        .server-control {
            display: flex;
            gap: 2%;
            justify-content: space-between;
            margin-top: 2%;
        }

        .control-button {
            background: #222222;
            border: 1px solid #333333;
            color: #ffffff;
            padding: 2% 4%;
            cursor: pointer;
            font-family: 'Courier New', 'Monaco', monospace;
            font-size: 14px;
            transition: all 0.3s ease;
            width: 32%;
            flex: 1;
            min-width: 30%;
        }

        /* Responsive Button Sizing */
        @media (max-width: 768px) {
            .control-button {
                font-size: 12px;
                padding: 2.5% 4%;
            }
        }

        @media (max-width: 480px) {
            .server-control {
                flex-direction: column;
                gap: 1%;
            }
            
            .control-button {
                font-size: 11px;
                padding: 3% 5%;
                width: 100%;
            }
        }

        .control-button:hover {
            background: #333333;
            border-color: #666666;
        }

        .shutdown-button {
            background: #440000;
            border-color: #660000;
        }

        .shutdown-button:hover {
            background: #660000;
            border-color: #880000;
        }

        .reboot-button {
            background: #004400;
            border-color: #006600;
        }

        .reboot-button:hover {
            background: #006600;
            border-color: #008800;
        }

        .logout-button {
            background: #333366;
            border-color: #444477;
        }

        .logout-button:hover {
            background: #444477;
            border-color: #555588;
        }

        /* Docker Containers Section */
        .docker-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1%;
            margin-bottom: 2%;
        }

        .docker-containers {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #333333;
            background: #111111;
        }

        .docker-container {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr auto;
            gap: 1%;
            padding: 1%;
            border-bottom: 1px solid #222222;
            align-items: center;
            font-size: 12px;
        }

        .docker-container:last-child {
            border-bottom: none;
        }

        .docker-container:hover {
            background: #222222;
        }

        .docker-header {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr auto;
            gap: 1%;
            padding: 1%;
            background: #333333;
            font-weight: bold;
            font-size: 12px;
            border-bottom: 1px solid #444444;
        }

        .docker-name {
            color: #ffffff;
            font-weight: bold;
        }

        .docker-image {
            color: #cccccc;
            font-family: 'Courier New', 'Monaco', monospace;
        }


        .docker-uptime {
            color: #cccccc;
            font-size: 11px;
        }

        .docker-controls {
            display: flex;
            gap: 5px;
            justify-content: flex-end;
        }

        .docker-btn {
            padding: 4px 8px;
            font-size: 10px;
            border: 1px solid #333333;
            background: #222222;
            color: #ffffff;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .docker-btn:hover {
            background: #333333;
            border-color: #444444;
        }

        .docker-btn.start {
            background: #004400;
            border-color: #006600;
        }

        .docker-btn.start:hover {
            background: #006600;
        }

        .docker-btn.stop {
            background: #440000;
            border-color: #660000;
        }

        .docker-btn.stop:hover {
            background: #660000;
        }

        /* System Services Section */
        .services-summary {
            display: flex;
            gap: 2%;
            margin-bottom: 2%;
        }
        
        .services-summary .metric {
            flex: 1;
            width: 33.33%;
            box-sizing: border-box;
        }

        .services-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #333333;
            background: #111111;
        }

        .service-item {
            display: grid;
            grid-template-columns: 2fr auto;
            gap: 1%;
            padding: 1%;
            border-bottom: 1px solid #222222;
            align-items: center;
            font-size: 12px;
        }

        .service-item:last-child {
            border-bottom: none;
        }

        .service-item:hover {
            background: #222222;
        }

        .service-header {
            display: grid;
            grid-template-columns: 2fr auto;
            gap: 1%;
            padding: 1%;
            background: #333333;
            font-weight: bold;
            font-size: 12px;
            border-bottom: 1px solid #444444;
        }

        .service-name {
            color: #ffffff;
            font-weight: bold;
        }
        
        .service-name-container {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .service-description {
            color: #999999;
            font-size: 10px;
            font-weight: normal;
            font-style: italic;
        }


        .service-uptime {
            color: #cccccc;
            font-size: 11px;
        }

        .service-controls {
            display: flex;
            gap: 5px;
            justify-content: flex-end;
        }

        .service-btn {
            padding: 4px 8px;
            font-size: 10px;
            border: 1px solid #333333;
            background: #222222;
            color: #ffffff;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .service-btn:hover {
            background: #333333;
            border-color: #444444;
        }

        .service-btn.start {
            background: #004400;
            border-color: #006600;
        }

        .service-btn.start:hover {
            background: #006600;
        }

        .service-btn.stop {
            background: #440000;
            border-color: #660000;
        }

        .service-btn.stop:hover {
            background: #660000;
        }

        .service-btn.restart {
            background: #444400;
            border-color: #666600;
        }

        .service-btn.restart:hover {
            background: #666600;
        }

        /* Responsive Services Section */
        @media (max-width: 768px) {
            .services-summary {
                flex-direction: column;
                gap: 1%;
            }
            
            .services-summary .metric {
                width: 100%;
            }
            
            .service-item,
            .service-header {
                grid-template-columns: 1.5fr 1fr;
                gap: 0.5%;
                padding: 2%;
            }
            
            .service-item > div,
            .service-header > div {
                padding: 1%;
            }
        }

        @media (max-width: 480px) {
            .services-list {
                max-height: 300px;
            }
            
            .service-item {
                font-size: 11px;
            }
            
            .service-header {
                font-size: 11px;
            }
            
            .service-description {
                font-size: 9px;
            }
        }

        /* Responsive Docker Section */
        @media (max-width: 768px) {
            .docker-summary {
                grid-template-columns: repeat(3, 1fr);
                gap: 2%;
            }
            
            .docker-container,
            .docker-header {
                grid-template-columns: 1fr;
                gap: 0.5%;
                padding: 2%;
            }
            
            .docker-container > div,
            .docker-header > div {
                padding: 1%;
            }
        }

        @media (max-width: 480px) {
            .docker-containers {
                max-height: 300px;
            }
            
            .docker-container {
                font-size: 11px;
            }
            
            .docker-header {
                font-size: 11px;
            }
        }
        
        /* ==========================================
           COMPREHENSIVE MOBILE RESPONSIVENESS
           ========================================== */
        
        /* Base font and sizing adjustments for mobile */
        html {
            font-size: 16px;
        }
        
        @media (max-width: 480px) {
            html {
                font-size: 14px;
            }
        }
        
        /* Touch target optimization - minimum 44x44px for mobile */
        button, 
        .control-button,
        .docker-btn,
        .service-btn,
        .terminal-tab,
        .terminal-add-tab-btn {
            min-height: 44px;
            min-width: 44px;
        }
        
        @media (max-width: 480px) {
            button, 
            .control-button,
            .docker-btn,
            .service-btn {
                padding: 12px 16px;
                font-size: 14px;
            }
        }
        
        /* Prevent text selection issues on mobile */
        * {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
        }
        
        /* Improve scrolling on mobile */
        body {
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: contain;
        }
        
        /* Optimize images and containers for mobile */
        img {
            max-width: 100%;
            height: auto;
        }
        
        /* Ensure no horizontal overflow */
        .container {
            overflow-x: hidden;
        }
        
        /* Improve card readability on mobile */
        .metric {
            word-break: break-word;
            hyphens: auto;
        }
        
        /* Mobile-specific metric adjustments */
        @media (max-width: 480px) {
            .metric {
                flex-wrap: wrap;
                padding: 6px;
                margin-bottom: 6px;
                font-size: 0.875rem;
            }
            
            .metric-label, .metric-value {
                font-size: 0.875rem;
            }
        }
        
        /* Progress bar mobile optimization */
        .progress-bar {
            min-height: 8px;
        }
        
        @media (max-width: 480px) {
            .progress-bar {
                min-height: 6px;
            }
        }
        
        /* Button text should not wrap on very small screens */
        @media (max-width: 360px) {
            button, .control-button {
                font-size: 12px;
                padding: 10px 12px;
                white-space: nowrap;
            }
        }
        
        /* Ensure proper spacing for all interactive elements */
        @media (max-width: 480px) {
            .card {
                margin-bottom: 10px;
            }
        }
        
        /* Terminal specific mobile optimizations */
        @media (max-width: 480px) {
            .terminal-container {
                padding: 8px;
            }
            
            .terminal-tabs {
                flex-wrap: nowrap;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            .terminal-tab {
                flex-shrink: 0;
                height: 32px;
            }
            
            .terminal-tab .tab-title {
                padding: 6px 8px;
            }
            
            .terminal-tabs-container {
                min-width: min-content;
            }
        }
        
        /* Prevent horizontal scroll on mobile */
        @media (max-width: 480px) {
            * {
                max-width: 100vw;
            }
        }
        
        /* Improve table/list scrolling on mobile */
        .docker-containers,
        .services-list {
            -webkit-overflow-scrolling: touch;
        }
        
        /* Small cards responsive breakpoint adjustments */
        @media (max-width: 600px) {
            .small-cards-container {
                gap: 12px;
            }
        }
        
        /* Font size adjustments for better readability on small screens */
        @media (max-width: 360px) {
            .header h1 {
                font-size: 1.3rem;
            }
            
            .card h2 {
                font-size: 0.95rem;
            }
            
            .metric-label, .metric-value {
                font-size: 0.8rem;
            }
        }
        
        /* Line height adjustments for better text readability */
        @media (max-width: 480px) {
            body {
                line-height: 1.5;
            }
            
            .metric {
                line-height: 1.6;
            }
        }
        
        
        /* Container padding optimization for mobile */
        @media (max-width: 360px) {
            .container {
                padding: 8px;
            }
            
            .card {
                padding: 10px;
            }
        }
        
        /* Prevent layout shift on mobile */
        img, video, iframe {
            display: block;
        }
        
        /* Loading states should not cause horizontal scroll */
        @media (max-width: 480px) {
            #os-info, #uptime, #hostname, 
            #cpu-usage, #memory-used, #disk-used,
            #load-average, #cpu-temp {
                word-break: break-all;
                overflow-wrap: break-word;
            }
        }
        
        /* Ensure proper display of status indicators */
        @media (max-width: 480px) {
            .status-indicator {
                width: 6px;
                height: 6px;
            }
        }
        
        /* Server control buttons should stack on mobile */
        .server-control {
            flex-wrap: wrap;
        }
        
        @media (max-width: 480px) {
            .server-control {
                gap: 10px;
            }
            
            .control-button {
                flex: 1 1 100%;
                margin-bottom: 5px;
            }
        }
        
        /* Summary sections should stack on mobile */
        .docker-summary,
        .services-summary {
            gap: 10px;
        }
        
        @media (max-width: 480px) {
            .docker-summary,
            .services-summary {
                gap: 8px;
            }
        }
        
        /* Prevent overflow in service/container names */
        .docker-name,
        .service-name {
            word-break: break-word;
            overflow-wrap: break-word;
        }
        
        @media (max-width: 480px) {
            .docker-name,
            .service-name {
                font-size: 0.85rem;
            }
        }
        
        /* Optimize terminal for landscape on mobile */
        @media (max-width: 768px) and (orientation: landscape) {
            .terminal-container {
                height: 30vh;
                min-height: 200px;
            }
        }
        
        @media (max-width: 480px) and (orientation: landscape) {
            .terminal-container {
                height: 25vh;
                min-height: 150px;
            }
        }
        
        /* Improve readability for descriptions */
        .service-description {
            overflow-wrap: break-word;
            word-wrap: break-word;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>SERVER ADMINISTRATION</h1>
            <p>Real-time system monitoring with root terminal access</p>
        </div>

        <div class="dashboard">
            <!-- Terminal -->
            <div class="card terminal-section">
                <h2>ROOT TERMINAL</h2>
                <div class="terminal-container">
                    <div class="terminal-tabs">
                        <div class="terminal-tabs-container" id="terminal-tabs"></div>
                        <button class="terminal-add-tab-btn" onclick="window.createNewTerminal()" title="New Terminal (Ctrl+T)">+</button>
                        <button class="terminal-fullscreen-btn" onclick="enterFullscreenTerminal()" title="Fullscreen Terminal">⛶</button>
                    </div>
                    <div class="terminal-content" id="terminal-content"></div>
                </div>
            </div>

            <!-- Small cards group -->
            <div class="small-cards-container">
                <!-- System Overview -->
                <div class="card">
                    <h2>SYSTEM OVERVIEW</h2>
                    <div class="metric">
                        <span class="metric-label">OS</span>
                        <span class="metric-value" id="os-info">Loading...</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Uptime</span>
                        <span class="metric-value" id="uptime">Loading...</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Hostname</span>
                        <span class="metric-value" id="hostname">Loading...</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Status</span>
                        <span class="metric-value">
                            <span class="status-indicator status-online"></span>
                            Online
                        </span>
                    </div>
                </div>

                <!-- CPU Usage -->
                <div class="card">
                    <h2>CPU USAGE</h2>
                    <div class="metric">
                        <span class="metric-label">CPU Usage</span>
                        <span class="metric-value" id="cpu-usage">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="cpu-progress" style="width: 0%"></div>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Load Average</span>
                        <span class="metric-value" id="load-average">0.00</span>
                    </div>
                </div>

                <!-- Memory Usage -->
                <div class="card">
                    <h2>MEMORY USAGE</h2>
                    <div class="metric">
                        <span class="metric-label">Memory Used</span>
                        <span class="metric-value" id="memory-used">0 GB</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="memory-progress" style="width: 0%"></div>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Memory Total</span>
                        <span class="metric-value" id="memory-total">0 GB</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Memory Free</span>
                        <span class="metric-value" id="memory-free">0 GB</span>
                    </div>
                </div>

                <!-- Disk Usage -->
                <div class="card">
                    <h2>DISK USAGE</h2>
                    <div class="metric">
                        <span class="metric-label">Disk Used</span>
                        <span class="metric-value" id="disk-used">0 GB</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="disk-progress" style="width: 0%"></div>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Disk Total</span>
                        <span class="metric-value" id="disk-total">0 GB</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Disk Free</span>
                        <span class="metric-value" id="disk-free">0 GB</span>
                    </div>
                </div>
            </div>

        <!-- Docker Containers -->
        <div class="card">
            <h2>DOCKER CONTAINERS</h2>
            <div class="docker-summary">
                <div class="metric">
                    <span class="metric-label">Total Containers</span>
                    <span class="metric-value" id="total-containers">0</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Running</span>
                    <span class="metric-value" id="running-containers">0</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Stopped</span>
                    <span class="metric-value" id="stopped-containers">0</span>
                </div>
            </div>
            <div class="docker-containers" id="docker-containers">
                <!-- Docker containers will be populated here -->
            </div>
        </div>

        <!-- System Services -->
        <div class="card">
            <h2>SYSTEM SERVICES</h2>
            <div class="services-summary">
                <div class="metric">
                    <span class="metric-label">Total Services</span>
                    <span class="metric-value" id="total-services">0</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Active</span>
                    <span class="metric-value" id="active-services">0</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Inactive</span>
                    <span class="metric-value" id="inactive-services">0</span>
                </div>
            </div>
            <div class="services-list" id="services-list">
                <!-- System services will be populated here -->
            </div>
        </div>

        <!-- Server Control -->
        <div class="card">
            <h2>SERVER CONTROL</h2>
            <div class="server-control">
                <button class="control-button shutdown-button" onclick="shutdownServer()">SHUTDOWN</button>
                <button class="control-button reboot-button" onclick="rebootServer()">REBOOT</button>
                <button class="control-button logout-button" onclick="logout()">LOGOUT</button>
            </div>
        </div>
    </div>

    <script>
        // Check authentication on page load
        window.addEventListener('load', function() {
            const token = localStorage.getItem('adminToken');
            if (!token) {
                window.location.href = '/login';
                return;
            }
            
            // Initialize Socket.IO connection with authentication
            const socket = io({
                auth: {
                    token: token
                }
            });
            
            // Handle authentication errors
            socket.on('connect_error', (error) => {
                if (error.message === 'Authentication failed') {
                    localStorage.removeItem('adminToken');
                    window.location.href = '/login';
                }
            });
            
            initializeApp(socket);
        });
        
        function initializeApp(socket) {
        
        // Terminal tabs management
        let terminals = new Map();
        let activeTabId = null;
        let tabCounter = 1;
        let terminalSessionCounter = 0;
        
        // Create terminal tab
        function createTerminalTab() {
            const tabId = `terminal-${tabCounter++}`;
            const tabNumber = tabCounter - 1;
            const sessionId = terminalSessionCounter++;
            
            // Create tab element
            const tabsContainer = document.getElementById('terminal-tabs');
            const tabElement = document.createElement('div');
            tabElement.className = 'terminal-tab active';
            tabElement.id = `tab-${tabId}`;
            tabElement.innerHTML = `
                <span class="tab-title">Terminal ${tabNumber}</span>
                <span class="terminal-tab-close" onclick="closeTab('${tabId}', event)">×</span>
            `;
            tabElement.onclick = (e) => {
                if (e.target.className !== 'terminal-tab-close') {
                    switchTab(tabId);
                }
            };
            tabsContainer.appendChild(tabElement);
            
            // Create terminal instance
            const terminalDiv = document.createElement('div');
            terminalDiv.id = tabId;
            terminalDiv.style.display = activeTabId ? 'none' : 'block';
            
            const terminal = new Terminal({
                theme: {
                    background: '#000000',
                    foreground: '#ffffff',
                    cursor: '#ffffff',
                    selection: '#333333'
                },
                fontSize: 13,
                fontFamily: 'Courier New, Monaco, monospace',
                cols: 120,
                rows: 30,
                scrollback: 1000,
                allowTransparency: false,
                cursorBlink: true,
                cursorStyle: 'block'
            });
            
            const fitAddon = new FitAddon.FitAddon();
            terminal.loadAddon(fitAddon);
            
            document.getElementById('terminal-content').appendChild(terminalDiv);
            terminal.open(document.getElementById(tabId));
            fitAddon.fit();
            
            // Unique session data for this terminal
            let backendSessionConnected = false;
            let backendTerminalId = null;
            
            // Initialize backend session for THIS terminal
            socket.emit('terminal:create', { 
                cols: 120, 
                rows: 30,
                tabId: tabId,
                sessionId: sessionId
            });
            
            // Handle backend response
            socket.once('terminal:created', (data) => {
                if (data && data.tabId === tabId) {
                    backendTerminalId = data.backendId || socket.id;
                    backendSessionConnected = true;
                    terminal.focus();
                }
            });
            
            // Terminal input handler - sends to this terminal's backend session
            terminal.onData(data => {
                if (backendSessionConnected) {
                    socket.emit('terminal:input', {
                        data: data,
                        tabId: tabId,
                        sessionId: sessionId
                    });
                }
            });
            
            // Store terminal with session info
            terminals.set(tabId, { 
                terminal, 
                fitAddon, 
                tabElement, 
                tabId,
                sessionId: sessionId,
                backendTerminalId: backendTerminalId,
                connected: backendSessionConnected
            });
            
            if (!activeTabId) {
                activeTabId = tabId;
            }
            
            return tabId;
        }
        
        // Switch between tabs
        window.switchTab = function(tabId) {
            const oldTab = terminals.get(activeTabId);
            const newTab = terminals.get(tabId);
            
            if (oldTab) {
                oldTab.tabElement.classList.remove('active');
                document.getElementById(activeTabId).style.display = 'none';
            }
            
            if (newTab) {
                newTab.tabElement.classList.add('active');
                document.getElementById(tabId).style.display = 'block';
                activeTabId = tabId;
                newTab.terminal.focus();
                
                // Trigger resize for proper rendering
                setTimeout(() => {
                    newTab.fitAddon.fit();
                    const { cols, rows } = newTab.terminal;
                    socket.emit('terminal:resize', { cols, rows });
                }, 100);
            }
        };
        
        // Close a tab
        window.closeTab = function(tabId, event) {
            event.stopPropagation();
            
            if (terminals.size <= 1) {
                return; // Don't close the last tab
            }
            
            const tab = terminals.get(tabId);
            if (!tab) return;
            
            // If closing active tab, switch to another
            if (activeTabId === tabId) {
                const otherTabs = Array.from(terminals.keys()).filter(id => id !== tabId);
                if (otherTabs.length > 0) {
                    switchTab(otherTabs[0]);
                }
            }
            
            // Clean up
            tab.terminal.dispose();
            document.getElementById(tabId).remove();
            tab.tabElement.remove();
            terminals.delete(tabId);
        };
        
        // Handle keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Ctrl+T to create new tab
            if (e.ctrlKey && e.key === 't') {
                e.preventDefault();
                createTerminalTab();
            }
        });
        
        // Handle terminal resize for all terminals
        window.addEventListener('resize', () => {
            terminals.forEach(({ terminal, fitAddon }) => {
                fitAddon.fit();
                const { cols, rows } = terminal;
                socket.emit('terminal:resize', { cols, rows });
            });
        });
        
        // Global function to create new terminal from button
        window.createNewTerminal = function() {
            createTerminalTab();
        };
        
        // Global function to enter fullscreen terminal
        window.enterFullscreenTerminal = function() {
            const token = localStorage.getItem('adminToken');
            if (token) {
                window.location.href = `/terminal-fullscreen?token=${token}`;
            } else {
                alert('Session expired. Please login again.');
                window.location.href = '/login';
            }
        };
        
        
        // Socket.IO event handlers - route data to specific terminals
        socket.on('terminal:data', (message) => {
            // message should have tabId to route to correct terminal
            const tabId = message.tabId || activeTabId;
            if (tabId && terminals.has(tabId)) {
                const tab = terminals.get(tabId);
                tab.terminal.write(message.data);
            }
        });
        
        socket.on('terminal:created', (data) => {
            // Update the terminal's backend connection status
            const tabId = data.tabId;
            if (tabId && terminals.has(tabId)) {
                const tab = terminals.get(tabId);
                tab.backendTerminalId = data.backendId || socket.id;
                tab.connected = true;
                if (activeTabId === tabId) {
                    tab.terminal.focus();
                }
            }
        });
        
        socket.on('terminal:exit', (message) => {
            const tabId = message.tabId || activeTabId;
            if (tabId && terminals.has(tabId)) {
                const tab = terminals.get(tabId);
                tab.terminal.write('\r\nTerminal session ended.\r\n');
                tab.connected = false;
            }
        });
        
        // Initialize first terminal
        createTerminalTab();
        
        // System monitoring functions
        function formatBytes(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        function formatUptime(seconds) {
            const days = Math.floor(seconds / 86400);
            const hours = Math.floor((seconds % 86400) / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            return `${days}d ${hours}h ${minutes}m`;
        }
        
        // Load initial system data
        async function loadSystemData() {
            try {
                const token = localStorage.getItem('adminToken');
                const response = await fetch('/api/system', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.status === 401) {
                    localStorage.removeItem('adminToken');
                    window.location.href = '/login';
                    return;
                }
                
                const data = await response.json();
                
                document.getElementById('os-info').textContent = `${data.osInfo.distro} ${data.osInfo.release}`;
                document.getElementById('hostname').textContent = data.osInfo.hostname;
                
                // Format uptime
                const uptimeFormatted = formatUptime(data.osInfo.uptime);
                document.getElementById('uptime').textContent = uptimeFormatted;
                
                // Memory info
                const memUsed = formatBytes(data.memory.used);
                const memTotal = formatBytes(data.memory.total);
                // Calculate free memory as total - used
                const memFree = formatBytes(data.memory.total - data.memory.used);
                const memPercent = ((data.memory.used / data.memory.total) * 100).toFixed(1);
                
                document.getElementById('memory-used').textContent = memUsed;
                document.getElementById('memory-total').textContent = memTotal;
                document.getElementById('memory-free').textContent = memFree;
                document.getElementById('memory-progress').style.width = memPercent + '%';
                
                // Disk info
                if (data.disk.length > 0) {
                    const disk = data.disk[0];
                    const diskUsed = formatBytes(disk.used);
                    const diskTotal = formatBytes(disk.size);
                    const diskFree = formatBytes(disk.available);
                    const diskPercent = ((disk.used / disk.size) * 100).toFixed(1);
                    
                    document.getElementById('disk-used').textContent = diskUsed;
                    document.getElementById('disk-total').textContent = diskTotal;
                    document.getElementById('disk-free').textContent = diskFree;
                    document.getElementById('disk-progress').style.width = diskPercent + '%';
                }
                
                
            } catch (error) {
                console.error('Error loading system data:', error);
            }
        }
        
        // Load Docker containers data
        async function loadDockerData() {
            try {
                const token = localStorage.getItem('adminToken');
                const response = await fetch('/api/docker', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.status === 401) {
                    localStorage.removeItem('adminToken');
                    window.location.href = '/login';
                    return;
                }
                
                const data = await response.json();
                
                // Update summary metrics
                document.getElementById('total-containers').textContent = data.totalContainers;
                document.getElementById('running-containers').textContent = data.runningContainers;
                document.getElementById('stopped-containers').textContent = data.stoppedContainers;
                
                // Update containers list
                updateDockerContainers(data.containers);
                
            } catch (error) {
                console.error('Error loading Docker data:', error);
            }
        }
        
        // Update Docker containers display
        function updateDockerContainers(containers) {
            const container = document.getElementById('docker-containers');
            
            if (containers.length === 0) {
                container.innerHTML = '<div style="padding: 2%; text-align: center; color: #666666;">No Docker containers found</div>';
                return;
            }
            
            // Create header
            const header = document.createElement('div');
            header.className = 'docker-header';
            header.innerHTML = `
                <div>Name</div>
                <div>Image</div>
                <div>Uptime</div>
                <div>Controls</div>
            `;
            
            // Create container rows
            const containerRows = containers.map(container => {
                // Show uptime if running, "Inactive" if stopped
                const uptimeDisplay = container.status.includes('Up') ? container.uptime : 'Inactive';
                
                // Determine which button to show based on status
                const isRunning = container.status.includes('Up');
                const buttonClass = isRunning ? 'stop' : 'start';
                const buttonText = isRunning ? 'Stop' : 'Start';
                const buttonAction = isRunning ? 'stop' : 'start';
                
                return `
                    <div class="docker-container">
                        <div class="docker-name">${container.name}</div>
                        <div class="docker-image">${container.image}</div>
                        <div class="docker-uptime">${uptimeDisplay}</div>
                        <div class="docker-controls">
                            <button class="docker-btn ${buttonClass}" onclick="controlContainer('${container.name}', '${buttonAction}')">${buttonText}</button>
                        </div>
                    </div>
                `;
            }).join('');
            
            container.innerHTML = header.outerHTML + containerRows;
        }
        
        // Load system services data
        async function loadServicesData() {
            try {
                const token = localStorage.getItem('adminToken');
                const response = await fetch('/api/services', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.status === 401) {
                    localStorage.removeItem('adminToken');
                    window.location.href = '/login';
                    return;
                }
                
                const data = await response.json();
                
                // Update summary metrics
                document.getElementById('total-services').textContent = data.totalServices;
                document.getElementById('active-services').textContent = data.activeServices;
                document.getElementById('inactive-services').textContent = data.inactiveServices;
                
                // Update services list
                updateServicesList(data.services);
                
            } catch (error) {
                console.error('Error loading services data:', error);
            }
        }
        
        // Update services list display
        function updateServicesList(services) {
            const container = document.getElementById('services-list');
            
            // Filter out services that are just bullet points or have no proper name
            const filteredServices = services.filter(service => {
                if (!service.name || service.name.trim() === '') return false;
                
                // Remove services with special characters or dots as the name
                const cleanName = service.name.trim();
                if (cleanName === '●' || cleanName === '•' || cleanName === '.' || cleanName === '·') return false;
                if (cleanName.startsWith('●') || cleanName.startsWith('•') || cleanName.startsWith('·')) return false;
                if (cleanName.length < 2) return false;
                if (cleanName === 'UNIT' || cleanName === 'LOAD' || cleanName === 'ACTIVE' || cleanName === 'SUB') return false;
                
                // Additional filtering for minimalistic display
                // Exclude some system-level services for cleaner view
                const excludedPatterns = [
                    /^systemd/,
                    /^dbus\.org/,
                    /^user@\d+/,
                    /^session-\d+/,
                    /^getty@/,
                    /^systemd-logind/,
                    /^systemd-networkd/,
                    /^systemd-resolved/,
                    /^dev-/
                ];
                
                for (const pattern of excludedPatterns) {
                    if (pattern.test(cleanName)) {
                        return false;
                    }
                }
                
                return true;
            });
            
            if (filteredServices.length === 0) {
                container.innerHTML = '<div style="padding: 2%; text-align: center; color: #666666;">No system services found</div>';
                return;
            }
            
            // Sort services: active first, then inactive
            filteredServices.sort((a, b) => {
                if (a.status === 'active' && b.status !== 'active') return -1;
                if (a.status !== 'active' && b.status === 'active') return 1;
                return a.name.localeCompare(b.name); // Alphabetical within each group
            });
            
            // Create header
            const header = document.createElement('div');
            header.className = 'service-header';
            header.innerHTML = `
                <div>Service</div>
                <div>Controls</div>
            `;
            
            // Create service rows
            const serviceRows = filteredServices.map(service => {
                const isActive = service.status === 'active';
                
                // Escape service name for use in onclick attribute
                const escapedServiceName = service.name.replace(/'/g, "\\'");
                
                // Determine which buttons to show based on status
                let buttons = '';
                if (isActive) {
                    buttons = `
                        <button class="service-btn stop" onclick="controlService('${escapedServiceName}', 'stop')">Stop</button>
                        <button class="service-btn restart" onclick="controlService('${escapedServiceName}', 'restart')">Restart</button>
                    `;
                } else {
                    buttons = `
                        <button class="service-btn start" onclick="controlService('${escapedServiceName}', 'start')">Start</button>
                    `;
                }
                
                // Format uptime display
                let uptimeDisplay = service.uptime;
                if (service.status === 'active' && service.uptime === 'Running') {
                    uptimeDisplay = 'Active';
                } else if (service.status === 'inactive') {
                    uptimeDisplay = 'Inactive';
                }
                
                const description = service.description ? `<div class="service-description">${service.description}</div>` : '';
                
                return `
                    <div class="service-item">
                        <div class="service-name-container">
                            <div class="service-name">${service.name}</div>
                            ${description}
                        </div>
                        <div class="service-controls">
                            ${buttons}
                        </div>
                    </div>
                `;
            }).join('');
            
            container.innerHTML = header.outerHTML + serviceRows;
        }
        
        // Service control function (global scope)
        function controlService(serviceName, action) {
            const password = prompt(`Enter password to ${action} service '${serviceName}':`);
            if (password === null) return; // User cancelled
            
            const token = localStorage.getItem('adminToken');
            fetch(`/api/services/${action}`, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${token}`
                },
                body: JSON.stringify({ 
                    service: serviceName,
                    password: password 
                })
            })
            .then(response => {
                if (!response.ok) {
                    return response.json().then(data => {
                        throw new Error(data.error || `HTTP error! status: ${response.status}`);
                    });
                }
                return response.json();
            })
            .then(data => {
                if (data.status === 'success') {
                    alert(`Service '${serviceName}' ${action} initiated successfully.`);
                    // Refresh services data after a short delay
                    setTimeout(loadServicesData, 2000);
                } else {
                    alert('Error: ' + (data.error || 'Unknown error'));
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert(`Failed to ${action} service.`);
            });
        }
        
        // Real-time updates via WebSocket
        socket.on('system:update', (data) => {
            try {
                // CPU usage - backend sends load.currentload (lowercase)
                if (data && data.load && data.load.currentload !== undefined) {
                    const cpuPercent = parseFloat(data.load.currentload).toFixed(1);
                    document.getElementById('cpu-usage').textContent = cpuPercent + '%';
                    document.getElementById('cpu-progress').style.width = cpuPercent + '%';
                }
                
                // Load average - backend sends load.currentload_user
                if (data && data.load && data.load.currentload_user !== undefined) {
                    const loadAvg = parseFloat(data.load.currentload_user).toFixed(2);
                    document.getElementById('load-average').textContent = loadAvg;
                }
                
                // Memory usage - backend sends memory.total, memory.used, memory.free
                if (data && data.memory) {
                    if (data.memory.used !== undefined && data.memory.total !== undefined) {
                        const memPercent = ((data.memory.used / data.memory.total) * 100).toFixed(1);
                        document.getElementById('memory-progress').style.width = memPercent + '%';
                        
                        // Update memory used
                        const memUsed = formatBytes(data.memory.used);
                        document.getElementById('memory-used').textContent = memUsed;
                        
                        // Calculate and update memory free as total - used
                        const memFree = formatBytes(data.memory.total - data.memory.used);
                        document.getElementById('memory-free').textContent = memFree;
                        
                        // Update memory total
                        const memTotal = formatBytes(data.memory.total);
                        document.getElementById('memory-total').textContent = memTotal;
                    }
                }
                
                // Update uptime - backend sends uptime in seconds
                if (data && data.uptime !== undefined) {
                    const uptimeFormatted = formatUptime(data.uptime);
                    document.getElementById('uptime').textContent = uptimeFormatted;
                }
            } catch (error) {
                console.error('Error processing system update:', error);
            }
        });
        
        // Load initial data
        loadSystemData();
        loadDockerData();
        loadServicesData();
        
        // Set up periodic updates
        setInterval(loadSystemData, 5000); // Update system data every 5 seconds
        setInterval(loadDockerData, 10000); // Update Docker data every 10 seconds
        setInterval(loadServicesData, 15000); // Update services data every 15 seconds
        }
        
        // Container control function (global scope)
        function controlContainer(containerName, action) {
            const password = prompt(`Enter password to ${action} container '${containerName}':`);
            if (password === null) return; // User cancelled
            
            const token = localStorage.getItem('adminToken');
            fetch(`/api/docker/${action}`, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${token}`
                },
                body: JSON.stringify({ 
                    container: containerName,
                    password: password 
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    alert(`Container '${containerName}' ${action} initiated successfully.`);
                    // Refresh Docker data after a short delay
                    setTimeout(loadDockerData, 2000);
                } else {
                    alert('Error: ' + data.error);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert(`Failed to ${action} container.`);
            });
        }
        
        // Server control functions (global scope)
        function shutdownServer() {
            const password = prompt('Enter password to shutdown server:');
            if (password === null) return; // User cancelled
            
            const token = localStorage.getItem('adminToken');
            fetch('/api/shutdown', { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${token}`
                },
                body: JSON.stringify({ password: password })
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    alert('Server shutdown initiated successfully.');
                } else {
                    alert('Error: ' + data.error);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to initiate shutdown.');
            });
        }
        
        function rebootServer() {
            const password = prompt('Enter password to reboot server:');
            if (password === null) return; // User cancelled
            
            const token = localStorage.getItem('adminToken');
            fetch('/api/reboot', { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${token}`
                },
                body: JSON.stringify({ password: password })
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    alert('Server reboot initiated successfully.');
                } else {
                    alert('Error: ' + data.error);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to initiate reboot.');
            });
        }
        
        // Logout function (global scope)
        function logout() {
            const token = localStorage.getItem('adminToken');
            if (token) {
                fetch('/api/logout', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                }).catch(error => {
                    console.error('Logout error:', error);
                });
            }
            localStorage.removeItem('adminToken');
            window.location.href = '/login';
        }
    </script>
</body>
</html>
